<template>
  <div
    class="px-2 relative transition-all duration-300 focus-within:opacity-100
      hover:opacity-100 min-w-[0px]"
    :class="{
      'opacity-50': !search
    }"
  >
    <Search
      class="absolute left-[13px] top-[4px] h-[12px] w-[12px] text-muted-foreground"
    />
    <Input
      v-model="search"
      type="search"
      placeholder="Search..."
      class="h-[20px] max-w-full rounded-[4px] pl-[19px] text-xs transition-all
        duration-300 focus:w-[400px]"
      :class="{
        'w-[120px]': !search,
        'w-[400px]': search
      }"
      size="sm"
    />
  </div>
</template>

<script lang="ts" setup>
import { Input } from '@@materials/form'
import { Search } from 'lucide-vue-next'
import { useTitleBarOptionsStore } from '@/stores'
import { storeToRefs } from 'pinia'

const { search } = storeToRefs(useTitleBarOptionsStore())
</script>
